{"version":3,"sources":["webpack:///src/app/features/home/photo/photo-routing.module.ts","webpack:///node_modules/mime/lite.js","webpack:///src/app/features/home/photo/photo.module.ts","webpack:///src/app/features/home/photo/photo.page.html","webpack:///src/app/features/home/photo/photo.page.ts","webpack:///node_modules/mime/types/standard.js","webpack:///node_modules/mime/Mime.js"],"names":["routes","path","component","PhotoPageRoutingModule","forChild","Mime","module","exports","PhotoPageModule","PhotoPage","momentRepository","route","router","sanitizer","httpClient","languagesService","willBeDestroyed","currentMemontId$","queryParamMap","pipe","params","get","moments$","all$","currentMomentIndex$","moments","id","findIndex","j","currentMoment$","currentIndex","geolocationPosition$","moment","geolocationPosition","address$","language$","position","language","latitude","longitude","json","features","length","undefined","properties","mapUrl$","bypassSecurityTrustResourceUrl","photoSlidesOptions$","initialIndex","resistanceRatio","initialSlide","supportShare","navigator","_","item","event","ionSlides","target","getActiveIndex","navigate","queryParams","relativeTo","replaceUrl","subscribe","remove$","_share$","photo$","photo","File","extension","mimeType","type","lastModified","timestamp","file","share","text","JSON","stringify","files","remove","_types","Object","create","_extensions","i","arguments","define","bind","getType","getExtension","prototype","typeMap","force","extensions","map","t","toLowerCase","ext","Error","substr","String","last","replace","hasPath","hasDot","test","RegExp","$1"],"mappings":"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","file":"3-es5.b961376d8f694d91cc04.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { PhotoPage } from './photo.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PhotoPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PhotoPageRoutingModule {}\n","'use strict';\n\nlet Mime = require('./Mime');\nmodule.exports = new Mime(require('./types/standard'));\n","import { NgModule } from '@angular/core';\nimport { NgxIonicImageViewerModule } from 'ngx-ionic-image-viewer';\nimport { SharedModule } from '../../../shared/shared.module';\nimport { PhotoPageRoutingModule } from './photo-routing.module';\nimport { PhotoPage } from './photo.page';\n\n@NgModule({\n  imports: [SharedModule, PhotoPageRoutingModule, NgxIonicImageViewerModule],\n  declarations: [PhotoPage],\n})\nexport class PhotoPageModule {}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-back-button color=\"light\"></ion-back-button>\n    </ion-buttons>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"remove()\" slot=\"primary\" color=\"light\">\n        <ion-icon name=\"trash-outline\" slot=\"icon-only\"></ion-icon>\n      </ion-button>\n      <ion-button\n        *ngIf=\"supportShare\"\n        (click)=\"share()\"\n        slot=\"secondary\"\n        color=\"light\"\n      >\n        <ion-icon name=\"share-social-outline\" slot=\"icon-only\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n<ion-content fullscreen *transloco=\"let t\">\n  <ion-slides\n    *ngrxLet=\"photoSlidesOptions$ as options\"\n    [options]=\"options\"\n    (ionSlideDidChange)=\"onPhotoSlidesChanged($event)\"\n  >\n    <ion-slide *ngFor=\"let moment of moments$ | ngrxPush; trackBy: trackMoment\">\n      <app-image\n        *ngrxLet=\"moment.photoUrl$ as photoUrl\"\n        ionImgViewer\n        [src]=\"photoUrl\"\n      ></app-image>\n\n      <ion-list lines=\"none\">\n        <ion-item>\n          <ion-label>\n            {{\n              moment.timestamp\n                | translocoDate: { dateStyle: 'full', timeStyle: 'full' }\n            }}\n          </ion-label>\n        </ion-item>\n        <ion-item-group *ngIf=\"moment.geolocationPosition\">\n          <ion-item-divider>\n            <ion-label>{{ t('location') }}</ion-label>\n          </ion-item-divider>\n          <iframe\n            *ngrxLet=\"mapUrl$ as mapUrl\"\n            [src]=\"mapUrl\"\n            frameborder=\"0\"\n            loading=\"lazy\"\n          ></iframe>\n          <ion-item>\n            <ion-icon name=\"location-outline\" slot=\"start\"></ion-icon>\n            <ion-label>\n              <h3>{{ t('coordinates') }}</h3>\n              <p>\n                {{ moment.geolocationPosition?.latitude }}\n                ,\n                {{ moment.geolocationPosition?.longitude }}\n              </p>\n            </ion-label>\n            <app-copy-clipboard\n              [text]=\"\n                moment.geolocationPosition?.latitude +\n                ',' +\n                moment.geolocationPosition?.longitude\n              \"\n              slot=\"end\"\n            ></app-copy-clipboard>\n          </ion-item>\n          <ion-item>\n            <ion-icon name=\"home-outline\" slot=\"start\"></ion-icon>\n            <ion-label>\n              <h3>{{ t('address') }}</h3>\n              <p>{{ address$ | ngrxPush }}</p>\n            </ion-label>\n            <app-copy-clipboard\n              [text]=\"address$ | ngrxPush\"\n              slot=\"end\"\n            ></app-copy-clipboard>\n          </ion-item>\n        </ion-item-group>\n\n        <ion-item-group>\n          <ion-item-divider>\n            <ion-label>{{ t('details') }}</ion-label>\n          </ion-item-divider>\n          <ion-item>\n            <ion-icon name=\"code-outline\" slot=\"start\"></ion-icon>\n            <ion-label>\n              <h3>{{ t('hash') }}</h3>\n              <p>{{ moment.id }}</p>\n            </ion-label>\n            <app-copy-clipboard\n              [text]=\"moment.id\"\n              slot=\"end\"\n            ></app-copy-clipboard>\n          </ion-item>\n          <ion-item>\n            <ion-icon name=\"document-outline\" slot=\"start\"></ion-icon>\n            <ion-label>\n              <h3>{{ t('mimeType') }}</h3>\n              <p>{{ moment.mimeType }}</p>\n            </ion-label>\n            <app-copy-clipboard\n              [text]=\"moment.mimeType\"\n              slot=\"end\"\n            ></app-copy-clipboard>\n          </ion-item>\n        </ion-item-group>\n      </ion-list>\n    </ion-slide>\n  </ion-slides>\n</ion-content>\n","import { HttpClient } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { FeatureCollection } from 'geojson';\nimport mime from 'mime/lite';\nimport { combineLatest, defer, iif } from 'rxjs';\nimport {\n  concatMap,\n  concatMapTo,\n  distinctUntilChanged,\n  first,\n  map,\n  switchMap,\n  tap,\n} from 'rxjs/operators';\nimport { LanguagesService } from '../../../shared/languages/languages.service';\nimport { Moment } from '../../../shared/moment/moment';\nimport { MomentRepository } from '../../../shared/moment/moment-repository.service';\nimport { isNonNullable } from '../../../utils/rx-operators';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-photo',\n  templateUrl: './photo.page.html',\n  styleUrls: ['./photo.page.scss'],\n})\nexport class PhotoPage {\n  private willBeDestroyed = false;\n\n  private readonly currentMemontId$ = this.route.queryParamMap.pipe(\n    map(params => params.get('id')),\n    isNonNullable(),\n    distinctUntilChanged()\n  );\n\n  readonly moments$ = this.momentRepository.all$;\n\n  private readonly currentMomentIndex$ = combineLatest([\n    this.moments$,\n    this.currentMemontId$,\n  ]).pipe(\n    map(([moments, id]) => moments.findIndex(j => j.id === id)),\n    distinctUntilChanged()\n  );\n\n  readonly currentMoment$ = combineLatest([\n    this.moments$,\n    this.currentMomentIndex$,\n  ]).pipe(map(([moments, currentIndex]) => moments[currentIndex]));\n\n  private readonly geolocationPosition$ = this.currentMoment$.pipe(\n    map(moment => moment.geolocationPosition),\n    isNonNullable()\n  );\n\n  readonly address$ = combineLatest([\n    this.geolocationPosition$,\n    this.languagesService.language$,\n  ]).pipe(\n    switchMap(([position, language]) =>\n      this.httpClient.get<FeatureCollection>(\n        `https://nominatim.openstreetmap.org/reverse?lat=${position.latitude}&lon=${position.longitude}&format=geojson&accept-language=${language}`\n      )\n    ),\n    map(json => {\n      if (json.features.length === 0) return undefined;\n      const properties = json.features[0].properties;\n      if (!properties) return undefined;\n      return properties['display_name'] as string | undefined;\n    })\n  );\n\n  readonly mapUrl$ = this.geolocationPosition$.pipe(\n    map(position =>\n      this.sanitizer.bypassSecurityTrustResourceUrl(\n        `https://maps.google.com/maps?q=${position.latitude},${position.longitude}&z=15&output=embed`\n      )\n    ),\n    isNonNullable()\n  );\n\n  readonly photoSlidesOptions$ = this.currentMomentIndex$.pipe(\n    map(initialIndex => ({\n      resistanceRatio: 0,\n      initialSlide: initialIndex,\n    }))\n  );\n\n  readonly supportShare = !!navigator['share'];\n\n  constructor(\n    private readonly momentRepository: MomentRepository,\n    private readonly route: ActivatedRoute,\n    private readonly router: Router,\n    private readonly sanitizer: DomSanitizer,\n    private readonly httpClient: HttpClient,\n    private readonly languagesService: LanguagesService\n  ) {}\n\n  trackMoment(_: number, item: Moment) {\n    return item.id;\n  }\n\n  onPhotoSlidesChanged(event: Event) {\n    const ionSlides = event.target as HTMLIonSlidesElement;\n    return this.moments$\n      .pipe(\n        first(),\n        switchMap(async moments => moments[await ionSlides.getActiveIndex()]),\n        isNonNullable(),\n        switchMap(moment =>\n          iif(\n            () => !this.willBeDestroyed,\n            this.router.navigate([], {\n              queryParams: { id: moment.id },\n              relativeTo: this.route,\n              replaceUrl: true,\n            })\n          )\n        ),\n        untilDestroyed(this)\n      )\n      .subscribe();\n  }\n\n  remove() {\n    return this.currentMemontId$\n      .pipe(\n        first(),\n        tap(() => (this.willBeDestroyed = true)),\n        concatMap(id => this.momentRepository.remove$(id)),\n        concatMapTo(defer(() => this.router.navigate(['..']))),\n        untilDestroyed(this)\n      )\n      .subscribe();\n  }\n\n  share() {\n    return this.currentMoment$\n      .pipe(\n        first(),\n        switchMap(moment => this._share$(moment)),\n        untilDestroyed(this)\n      )\n      .subscribe();\n  }\n\n  private _share$(moment: Moment) {\n    return moment.photo$.pipe(\n      map(\n        photo =>\n          new File([photo], `${moment.id}.${mime.extension(moment.mimeType)}`, {\n            type: moment.mimeType,\n            lastModified: moment.timestamp,\n          })\n      ),\n      switchMap(file =>\n        navigator.share({\n          text: JSON.stringify(moment.geolocationPosition),\n          // @ts-expect-error: share API level 2\n          files: [file],\n        })\n      )\n    );\n  }\n}\n","module.exports = {\"application/andrew-inset\":[\"ez\"],\"application/applixware\":[\"aw\"],\"application/atom+xml\":[\"atom\"],\"application/atomcat+xml\":[\"atomcat\"],\"application/atomdeleted+xml\":[\"atomdeleted\"],\"application/atomsvc+xml\":[\"atomsvc\"],\"application/atsc-dwd+xml\":[\"dwd\"],\"application/atsc-held+xml\":[\"held\"],\"application/atsc-rsat+xml\":[\"rsat\"],\"application/bdoc\":[\"bdoc\"],\"application/calendar+xml\":[\"xcs\"],\"application/ccxml+xml\":[\"ccxml\"],\"application/cdfx+xml\":[\"cdfx\"],\"application/cdmi-capability\":[\"cdmia\"],\"application/cdmi-container\":[\"cdmic\"],\"application/cdmi-domain\":[\"cdmid\"],\"application/cdmi-object\":[\"cdmio\"],\"application/cdmi-queue\":[\"cdmiq\"],\"application/cu-seeme\":[\"cu\"],\"application/dash+xml\":[\"mpd\"],\"application/davmount+xml\":[\"davmount\"],\"application/docbook+xml\":[\"dbk\"],\"application/dssc+der\":[\"dssc\"],\"application/dssc+xml\":[\"xdssc\"],\"application/ecmascript\":[\"ecma\",\"es\"],\"application/emma+xml\":[\"emma\"],\"application/emotionml+xml\":[\"emotionml\"],\"application/epub+zip\":[\"epub\"],\"application/exi\":[\"exi\"],\"application/fdt+xml\":[\"fdt\"],\"application/font-tdpfr\":[\"pfr\"],\"application/geo+json\":[\"geojson\"],\"application/gml+xml\":[\"gml\"],\"application/gpx+xml\":[\"gpx\"],\"application/gxf\":[\"gxf\"],\"application/gzip\":[\"gz\"],\"application/hjson\":[\"hjson\"],\"application/hyperstudio\":[\"stk\"],\"application/inkml+xml\":[\"ink\",\"inkml\"],\"application/ipfix\":[\"ipfix\"],\"application/its+xml\":[\"its\"],\"application/java-archive\":[\"jar\",\"war\",\"ear\"],\"application/java-serialized-object\":[\"ser\"],\"application/java-vm\":[\"class\"],\"application/javascript\":[\"js\",\"mjs\"],\"application/json\":[\"json\",\"map\"],\"application/json5\":[\"json5\"],\"application/jsonml+json\":[\"jsonml\"],\"application/ld+json\":[\"jsonld\"],\"application/lgr+xml\":[\"lgr\"],\"application/lost+xml\":[\"lostxml\"],\"application/mac-binhex40\":[\"hqx\"],\"application/mac-compactpro\":[\"cpt\"],\"application/mads+xml\":[\"mads\"],\"application/manifest+json\":[\"webmanifest\"],\"application/marc\":[\"mrc\"],\"application/marcxml+xml\":[\"mrcx\"],\"application/mathematica\":[\"ma\",\"nb\",\"mb\"],\"application/mathml+xml\":[\"mathml\"],\"application/mbox\":[\"mbox\"],\"application/mediaservercontrol+xml\":[\"mscml\"],\"application/metalink+xml\":[\"metalink\"],\"application/metalink4+xml\":[\"meta4\"],\"application/mets+xml\":[\"mets\"],\"application/mmt-aei+xml\":[\"maei\"],\"application/mmt-usd+xml\":[\"musd\"],\"application/mods+xml\":[\"mods\"],\"application/mp21\":[\"m21\",\"mp21\"],\"application/mp4\":[\"mp4s\",\"m4p\"],\"application/mrb-consumer+xml\":[\"*xdf\"],\"application/mrb-publish+xml\":[\"*xdf\"],\"application/msword\":[\"doc\",\"dot\"],\"application/mxf\":[\"mxf\"],\"application/n-quads\":[\"nq\"],\"application/n-triples\":[\"nt\"],\"application/node\":[\"cjs\"],\"application/octet-stream\":[\"bin\",\"dms\",\"lrf\",\"mar\",\"so\",\"dist\",\"distz\",\"pkg\",\"bpk\",\"dump\",\"elc\",\"deploy\",\"exe\",\"dll\",\"deb\",\"dmg\",\"iso\",\"img\",\"msi\",\"msp\",\"msm\",\"buffer\"],\"application/oda\":[\"oda\"],\"application/oebps-package+xml\":[\"opf\"],\"application/ogg\":[\"ogx\"],\"application/omdoc+xml\":[\"omdoc\"],\"application/onenote\":[\"onetoc\",\"onetoc2\",\"onetmp\",\"onepkg\"],\"application/oxps\":[\"oxps\"],\"application/p2p-overlay+xml\":[\"relo\"],\"application/patch-ops-error+xml\":[\"*xer\"],\"application/pdf\":[\"pdf\"],\"application/pgp-encrypted\":[\"pgp\"],\"application/pgp-signature\":[\"asc\",\"sig\"],\"application/pics-rules\":[\"prf\"],\"application/pkcs10\":[\"p10\"],\"application/pkcs7-mime\":[\"p7m\",\"p7c\"],\"application/pkcs7-signature\":[\"p7s\"],\"application/pkcs8\":[\"p8\"],\"application/pkix-attr-cert\":[\"ac\"],\"application/pkix-cert\":[\"cer\"],\"application/pkix-crl\":[\"crl\"],\"application/pkix-pkipath\":[\"pkipath\"],\"application/pkixcmp\":[\"pki\"],\"application/pls+xml\":[\"pls\"],\"application/postscript\":[\"ai\",\"eps\",\"ps\"],\"application/provenance+xml\":[\"provx\"],\"application/pskc+xml\":[\"pskcxml\"],\"application/raml+yaml\":[\"raml\"],\"application/rdf+xml\":[\"rdf\",\"owl\"],\"application/reginfo+xml\":[\"rif\"],\"application/relax-ng-compact-syntax\":[\"rnc\"],\"application/resource-lists+xml\":[\"rl\"],\"application/resource-lists-diff+xml\":[\"rld\"],\"application/rls-services+xml\":[\"rs\"],\"application/route-apd+xml\":[\"rapd\"],\"application/route-s-tsid+xml\":[\"sls\"],\"application/route-usd+xml\":[\"rusd\"],\"application/rpki-ghostbusters\":[\"gbr\"],\"application/rpki-manifest\":[\"mft\"],\"application/rpki-roa\":[\"roa\"],\"application/rsd+xml\":[\"rsd\"],\"application/rss+xml\":[\"rss\"],\"application/rtf\":[\"rtf\"],\"application/sbml+xml\":[\"sbml\"],\"application/scvp-cv-request\":[\"scq\"],\"application/scvp-cv-response\":[\"scs\"],\"application/scvp-vp-request\":[\"spq\"],\"application/scvp-vp-response\":[\"spp\"],\"application/sdp\":[\"sdp\"],\"application/senml+xml\":[\"senmlx\"],\"application/sensml+xml\":[\"sensmlx\"],\"application/set-payment-initiation\":[\"setpay\"],\"application/set-registration-initiation\":[\"setreg\"],\"application/shf+xml\":[\"shf\"],\"application/sieve\":[\"siv\",\"sieve\"],\"application/smil+xml\":[\"smi\",\"smil\"],\"application/sparql-query\":[\"rq\"],\"application/sparql-results+xml\":[\"srx\"],\"application/srgs\":[\"gram\"],\"application/srgs+xml\":[\"grxml\"],\"application/sru+xml\":[\"sru\"],\"application/ssdl+xml\":[\"ssdl\"],\"application/ssml+xml\":[\"ssml\"],\"application/swid+xml\":[\"swidtag\"],\"application/tei+xml\":[\"tei\",\"teicorpus\"],\"application/thraud+xml\":[\"tfi\"],\"application/timestamped-data\":[\"tsd\"],\"application/toml\":[\"toml\"],\"application/ttml+xml\":[\"ttml\"],\"application/ubjson\":[\"ubj\"],\"application/urc-ressheet+xml\":[\"rsheet\"],\"application/urc-targetdesc+xml\":[\"td\"],\"application/voicexml+xml\":[\"vxml\"],\"application/wasm\":[\"wasm\"],\"application/widget\":[\"wgt\"],\"application/winhlp\":[\"hlp\"],\"application/wsdl+xml\":[\"wsdl\"],\"application/wspolicy+xml\":[\"wspolicy\"],\"application/xaml+xml\":[\"xaml\"],\"application/xcap-att+xml\":[\"xav\"],\"application/xcap-caps+xml\":[\"xca\"],\"application/xcap-diff+xml\":[\"xdf\"],\"application/xcap-el+xml\":[\"xel\"],\"application/xcap-error+xml\":[\"xer\"],\"application/xcap-ns+xml\":[\"xns\"],\"application/xenc+xml\":[\"xenc\"],\"application/xhtml+xml\":[\"xhtml\",\"xht\"],\"application/xliff+xml\":[\"xlf\"],\"application/xml\":[\"xml\",\"xsl\",\"xsd\",\"rng\"],\"application/xml-dtd\":[\"dtd\"],\"application/xop+xml\":[\"xop\"],\"application/xproc+xml\":[\"xpl\"],\"application/xslt+xml\":[\"*xsl\",\"xslt\"],\"application/xspf+xml\":[\"xspf\"],\"application/xv+xml\":[\"mxml\",\"xhvml\",\"xvml\",\"xvm\"],\"application/yang\":[\"yang\"],\"application/yin+xml\":[\"yin\"],\"application/zip\":[\"zip\"],\"audio/3gpp\":[\"*3gpp\"],\"audio/adpcm\":[\"adp\"],\"audio/amr\":[\"amr\"],\"audio/basic\":[\"au\",\"snd\"],\"audio/midi\":[\"mid\",\"midi\",\"kar\",\"rmi\"],\"audio/mobile-xmf\":[\"mxmf\"],\"audio/mp3\":[\"*mp3\"],\"audio/mp4\":[\"m4a\",\"mp4a\"],\"audio/mpeg\":[\"mpga\",\"mp2\",\"mp2a\",\"mp3\",\"m2a\",\"m3a\"],\"audio/ogg\":[\"oga\",\"ogg\",\"spx\",\"opus\"],\"audio/s3m\":[\"s3m\"],\"audio/silk\":[\"sil\"],\"audio/wav\":[\"wav\"],\"audio/wave\":[\"*wav\"],\"audio/webm\":[\"weba\"],\"audio/xm\":[\"xm\"],\"font/collection\":[\"ttc\"],\"font/otf\":[\"otf\"],\"font/ttf\":[\"ttf\"],\"font/woff\":[\"woff\"],\"font/woff2\":[\"woff2\"],\"image/aces\":[\"exr\"],\"image/apng\":[\"apng\"],\"image/avif\":[\"avif\"],\"image/bmp\":[\"bmp\"],\"image/cgm\":[\"cgm\"],\"image/dicom-rle\":[\"drle\"],\"image/emf\":[\"emf\"],\"image/fits\":[\"fits\"],\"image/g3fax\":[\"g3\"],\"image/gif\":[\"gif\"],\"image/heic\":[\"heic\"],\"image/heic-sequence\":[\"heics\"],\"image/heif\":[\"heif\"],\"image/heif-sequence\":[\"heifs\"],\"image/hej2k\":[\"hej2\"],\"image/hsj2\":[\"hsj2\"],\"image/ief\":[\"ief\"],\"image/jls\":[\"jls\"],\"image/jp2\":[\"jp2\",\"jpg2\"],\"image/jpeg\":[\"jpeg\",\"jpg\",\"jpe\"],\"image/jph\":[\"jph\"],\"image/jphc\":[\"jhc\"],\"image/jpm\":[\"jpm\"],\"image/jpx\":[\"jpx\",\"jpf\"],\"image/jxr\":[\"jxr\"],\"image/jxra\":[\"jxra\"],\"image/jxrs\":[\"jxrs\"],\"image/jxs\":[\"jxs\"],\"image/jxsc\":[\"jxsc\"],\"image/jxsi\":[\"jxsi\"],\"image/jxss\":[\"jxss\"],\"image/ktx\":[\"ktx\"],\"image/ktx2\":[\"ktx2\"],\"image/png\":[\"png\"],\"image/sgi\":[\"sgi\"],\"image/svg+xml\":[\"svg\",\"svgz\"],\"image/t38\":[\"t38\"],\"image/tiff\":[\"tif\",\"tiff\"],\"image/tiff-fx\":[\"tfx\"],\"image/webp\":[\"webp\"],\"image/wmf\":[\"wmf\"],\"message/disposition-notification\":[\"disposition-notification\"],\"message/global\":[\"u8msg\"],\"message/global-delivery-status\":[\"u8dsn\"],\"message/global-disposition-notification\":[\"u8mdn\"],\"message/global-headers\":[\"u8hdr\"],\"message/rfc822\":[\"eml\",\"mime\"],\"model/3mf\":[\"3mf\"],\"model/gltf+json\":[\"gltf\"],\"model/gltf-binary\":[\"glb\"],\"model/iges\":[\"igs\",\"iges\"],\"model/mesh\":[\"msh\",\"mesh\",\"silo\"],\"model/mtl\":[\"mtl\"],\"model/obj\":[\"obj\"],\"model/stl\":[\"stl\"],\"model/vrml\":[\"wrl\",\"vrml\"],\"model/x3d+binary\":[\"*x3db\",\"x3dbz\"],\"model/x3d+fastinfoset\":[\"x3db\"],\"model/x3d+vrml\":[\"*x3dv\",\"x3dvz\"],\"model/x3d+xml\":[\"x3d\",\"x3dz\"],\"model/x3d-vrml\":[\"x3dv\"],\"text/cache-manifest\":[\"appcache\",\"manifest\"],\"text/calendar\":[\"ics\",\"ifb\"],\"text/coffeescript\":[\"coffee\",\"litcoffee\"],\"text/css\":[\"css\"],\"text/csv\":[\"csv\"],\"text/html\":[\"html\",\"htm\",\"shtml\"],\"text/jade\":[\"jade\"],\"text/jsx\":[\"jsx\"],\"text/less\":[\"less\"],\"text/markdown\":[\"markdown\",\"md\"],\"text/mathml\":[\"mml\"],\"text/mdx\":[\"mdx\"],\"text/n3\":[\"n3\"],\"text/plain\":[\"txt\",\"text\",\"conf\",\"def\",\"list\",\"log\",\"in\",\"ini\"],\"text/richtext\":[\"rtx\"],\"text/rtf\":[\"*rtf\"],\"text/sgml\":[\"sgml\",\"sgm\"],\"text/shex\":[\"shex\"],\"text/slim\":[\"slim\",\"slm\"],\"text/spdx\":[\"spdx\"],\"text/stylus\":[\"stylus\",\"styl\"],\"text/tab-separated-values\":[\"tsv\"],\"text/troff\":[\"t\",\"tr\",\"roff\",\"man\",\"me\",\"ms\"],\"text/turtle\":[\"ttl\"],\"text/uri-list\":[\"uri\",\"uris\",\"urls\"],\"text/vcard\":[\"vcard\"],\"text/vtt\":[\"vtt\"],\"text/xml\":[\"*xml\"],\"text/yaml\":[\"yaml\",\"yml\"],\"video/3gpp\":[\"3gp\",\"3gpp\"],\"video/3gpp2\":[\"3g2\"],\"video/h261\":[\"h261\"],\"video/h263\":[\"h263\"],\"video/h264\":[\"h264\"],\"video/iso.segment\":[\"m4s\"],\"video/jpeg\":[\"jpgv\"],\"video/jpm\":[\"*jpm\",\"jpgm\"],\"video/mj2\":[\"mj2\",\"mjp2\"],\"video/mp2t\":[\"ts\"],\"video/mp4\":[\"mp4\",\"mp4v\",\"mpg4\"],\"video/mpeg\":[\"mpeg\",\"mpg\",\"mpe\",\"m1v\",\"m2v\"],\"video/ogg\":[\"ogv\"],\"video/quicktime\":[\"qt\",\"mov\"],\"video/webm\":[\"webm\"]};","'use strict';\n\n/**\n * @param typeMap [Object] Map of MIME type -> Array[extensions]\n * @param ...\n */\nfunction Mime() {\n  this._types = Object.create(null);\n  this._extensions = Object.create(null);\n\n  for (let i = 0; i < arguments.length; i++) {\n    this.define(arguments[i]);\n  }\n\n  this.define = this.define.bind(this);\n  this.getType = this.getType.bind(this);\n  this.getExtension = this.getExtension.bind(this);\n}\n\n/**\n * Define mimetype -> extension mappings.  Each key is a mime-type that maps\n * to an array of extensions associated with the type.  The first extension is\n * used as the default extension for the type.\n *\n * e.g. mime.define({'audio/ogg', ['oga', 'ogg', 'spx']});\n *\n * If a type declares an extension that has already been defined, an error will\n * be thrown.  To suppress this error and force the extension to be associated\n * with the new type, pass `force`=true.  Alternatively, you may prefix the\n * extension with \"*\" to map the type to extension, without mapping the\n * extension to the type.\n *\n * e.g. mime.define({'audio/wav', ['wav']}, {'audio/x-wav', ['*wav']});\n *\n *\n * @param map (Object) type definitions\n * @param force (Boolean) if true, force overriding of existing definitions\n */\nMime.prototype.define = function(typeMap, force) {\n  for (let type in typeMap) {\n    let extensions = typeMap[type].map(function(t) {\n      return t.toLowerCase();\n    });\n    type = type.toLowerCase();\n\n    for (let i = 0; i < extensions.length; i++) {\n      const ext = extensions[i];\n\n      // '*' prefix = not the preferred type for this extension.  So fixup the\n      // extension, and skip it.\n      if (ext[0] === '*') {\n        continue;\n      }\n\n      if (!force && (ext in this._types)) {\n        throw new Error(\n          'Attempt to change mapping for \"' + ext +\n          '\" extension from \"' + this._types[ext] + '\" to \"' + type +\n          '\". Pass `force=true` to allow this, otherwise remove \"' + ext +\n          '\" from the list of extensions for \"' + type + '\".'\n        );\n      }\n\n      this._types[ext] = type;\n    }\n\n    // Use first extension as default\n    if (force || !this._extensions[type]) {\n      const ext = extensions[0];\n      this._extensions[type] = (ext[0] !== '*') ? ext : ext.substr(1);\n    }\n  }\n};\n\n/**\n * Lookup a mime type based on extension\n */\nMime.prototype.getType = function(path) {\n  path = String(path);\n  let last = path.replace(/^.*[/\\\\]/, '').toLowerCase();\n  let ext = last.replace(/^.*\\./, '').toLowerCase();\n\n  let hasPath = last.length < path.length;\n  let hasDot = ext.length < last.length - 1;\n\n  return (hasDot || !hasPath) && this._types[ext] || null;\n};\n\n/**\n * Return file extension associated with a mime type\n */\nMime.prototype.getExtension = function(type) {\n  type = /^\\s*([^;\\s]*)/.test(type) && RegExp.$1;\n  return type && this._extensions[type.toLowerCase()] || null;\n};\n\nmodule.exports = Mime;\n"]}