!function(){function e(n){var i="function"==typeof Map?new Map:void 0;return(e=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(e))return i.get(e);i.set(e,o)}function o(){return t(e,arguments,a(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),r(o,e)})(n)}function t(e,n,i){return(t=s()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o}).apply(null,arguments)}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=s();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}function o(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"/T4s":function(e,t,n){"use strict";n.d(t,"a",function(){return w});var r=n("mrSG"),i=n("1Bn7"),o=n("2Vo4"),s=n("JX91"),a=n("/uUt"),c=n("vkgz"),u=n("KJy6"),l=n("fXoL"),h=n("ofXK"),p=n("TEn/"),b=n("9A8T");function v(e,t){1&e&&l.Lb(0,"ion-icon",3)}function m(e,t){if(1&e){var n=l.Qb();l.Pb(0,"ion-img",4),l.Xb("ionImgDidLoad",function(e){return l.ic(n),l.Zb().onImageLoaded(e)})("ionError",function(){return l.ic(n),l.Zb().onImageError()}),l.ac(1,"ngrxPush"),l.Ob()}if(2&e){var r=l.Zb();l.Bb("src",l.bc(1,1,r.src$))}}function g(e,t){1&e&&l.dc(0,0,["*ngIf","!isImageError"])}var y=["*"],w=function(){var e=function(){function e(){var t=this;d(this,e),this._src$=new o.a(void 0),this.src$=this._src$.pipe(Object(s.a)(O),Object(u.b)(),Object(a.a)(),Object(c.a)(function(){return t.isImageError=!1})),this.isImageError=!1}return f(e,[{key:"src",set:function(e){this._src$.next(e)}},{key:"onImageLoaded",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.target,t.abrupt("return",Object(i.h)().addElement(n).duration(300).iterations(1).fromTo("opacity","0","1").play());case 2:case"end":return t.stop()}},t)}))}},{key:"onImageError",value:function(){this.isImageError=!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Eb({type:e,selectors:[["app-image"]],inputs:{src:"src"},ngContentSelectors:y,decls:3,vars:3,consts:[["src","/assets/icons/broken-image.svg","color","danger","size","large",4,"ngIf"],[3,"ionImgDidLoad","ionError",4,"ngIf"],[4,"ngIf"],["src","/assets/icons/broken-image.svg","color","danger","size","large"],[3,"ionImgDidLoad","ionError"]],template:function(e,t){1&e&&(l.ec(),l.lc(0,v,1,0,"ion-icon",0),l.lc(1,m,2,3,"ion-img",1),l.lc(2,g,1,0,"ng-content",2)),2&e&&(l.fc("ngIf",t.isImageError),l.Ab(1),l.fc("ngIf",!t.isImageError),l.Ab(1),l.fc("ngIf",!t.isImageError))},directives:[h.k,p.n,p.o],pipes:[b.b],styles:["[_nghost-%COMP%]{display:block;overflow:hidden;-o-object-fit:cover;object-fit:cover;position:relative;-webkit-animation:loading 2.5s ease-in-out infinite alternate;animation:loading 2.5s ease-in-out infinite alternate}ion-img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:inherit;object-fit:inherit;-o-object-position:inherit;object-position:inherit;opacity:0}@-webkit-keyframes loading{0%{background-color:var(--ion-color-light-shade)}to{background-color:var(--ion-color-light)}}@keyframes loading{0%{background-color:var(--ion-color-light-shade)}to{background-color:var(--ion-color-light)}}@media (prefers-color-scheme:dark){@-webkit-keyframes loading{0%{background-color:var(--ion-color-step-150)}to{background-color:var(--ion-color-step-100)}}@keyframes loading{0%{background-color:var(--ion-color-step-150)}to{background-color:var(--ion-color-step-100)}}}ion-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-right:-50%;transform:translate(-50%,-50%)}"]}),e}(),O="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="},"6g0+":function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return b});var r=n("fXoL"),i=n("O1h7"),o=n("TEn/"),s=n("ofXK"),a=["sliderRef"],c=function(e){return{"no-title":e}},l=function(e){return{"no-text":e}},h=function(){var e=function(){function e(t){d(this,e),this.modalController=t,this.alt="",this.scheme="auto",this.slideOptions={},this.srcFallback="",this.srcHighRes="",this.swipeToClose=!0,this.text="",this.title="",this.titleSize="",this.defaultSlideOptions={centeredSlides:!0,passiveListeners:!1,zoom:{enabled:!0}},this.options={},this.swipeState={phase:"init",direction:"none",swipeType:"none",startX:0,startY:0,distance:0,distanceX:0,distanceY:0,threshold:150,restraint:100,allowedTime:500,elapsedTime:0,startTime:0}}return f(e,[{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.options=Object.assign({},this.defaultSlideOptions,this.slideOptions),this.src=this.srcHighRes||this.src,this.setStyle(),this.setScheme(this.scheme),this.initSwipeToClose(this.swipeToClose),e.next=7,this.slides.getSwiper();case 7:e.sent.appendSlide('<ion-slide><img alt="'.concat(this.alt,'" src="').concat(this.src,'" onerror="this.src=\'').concat(this.srcFallback,"'\"/></ion-slide>"));case 8:case"end":return e.stop()}},e,this)}))}},{key:"setStyle",value:function(){var e=document.querySelector(".ion-img-viewer");e.style.setProperty("--height","100%"),e.style.setProperty("--width","100%"),e.style.setProperty("--border-radius","0")}},{key:"setScheme",value:function(e){if("auto"!==e){var t=document.querySelector(".ion-img-viewer");"light"===this.scheme&&(t.style.setProperty("--ion-background-color","#ffffff"),t.style.setProperty("--ion-background-color-rgb","255, 255, 255"),t.style.setProperty("--ion-text-color","#000"),t.style.setProperty("--ion-text-color-rgb","0,0,0")),"dark"===this.scheme&&(t.classList.contains("ios")?(t.style.setProperty("--ion-background-color","#000000"),t.style.setProperty("--ion-background-color-rgb","0, 0, 0")):(t.style.setProperty("--ion-background-color","#121212"),t.style.setProperty("--ion-background-color-rgb","18,18,18")),t.style.setProperty("--ion-text-color","#ffffff"),t.style.setProperty("--ion-text-color-rgb","255,255,255"))}}},{key:"initSwipeToClose",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(t){var n=document.querySelector("ion-modal");n.addEventListener("mousedown",function(t){return e.swipeStart(t)},!0),n.addEventListener("mousemove",function(t){return e.swipeMove(t)},!0),n.addEventListener("mouseup",function(t){return e.swipeEnd(t)},!0),n.addEventListener("touchstart",function(t){return e.swipeStart(t)},!0),n.addEventListener("touchmove",function(t){return e.swipeMove(t)},!0),n.addEventListener("touchend",function(t){return e.swipeEnd(t)},!0),this.modalController.getTop().then(function(t){t.onWillDismiss().then(function(){document.removeEventListener("mousedown",e.swipeStart,!0),document.removeEventListener("mousemove",e.swipeMove,!0),document.removeEventListener("mouseup",e.swipeMove,!0),document.removeEventListener("touchstart",e.swipeStart,!0),document.removeEventListener("touchmove",e.swipeMove,!0),document.removeEventListener("touchend",e.swipeMove,!0)})})}}},{key:"swipeStart",value:function(e){var t="touchstart"===e.type?e.changedTouches[0]:e,n=t.pageX,r=t.pageY;this.swipeState=Object.assign({},this.swipeState,{phase:"start",direction:"none",distance:0,startX:n,startY:r,startTime:(new Date).getTime()})}},{key:"swipeMove",value:function(e){if("none"!==this.swipeState.phase){var t,n,r="touchmove"===e.type?e.changedTouches[0]:e,i=r.pageX,o=r.pageY,s=i-this.swipeState.startX,a=o-this.swipeState.startY;Math.abs(s)>Math.abs(a)?(t=s<0?"left":"right",n=s):(t=a<0?"up":"down",n=a),this.swipeState=Object.assign({},this.swipeState,{phase:"move",direction:t,distance:n,distanceX:s,distanceY:a}),e.preventDefault()}}},{key:"swipeEnd",value:function(e){if("none"!==this.swipeState.phase){var t,n=this.swipeState,r=n.allowedTime,i=n.direction,o=n.restraint,s=n.startTime,a=n.threshold,c=n.distanceX,u=n.distanceY;return(new Date).getTime()-s<=r&&(Math.abs(c)>=a&&Math.abs(u)<=o||Math.abs(u)>=a&&Math.abs(c)<=o)&&(t=i),this.swipeState=Object.assign({},this.swipeState,{phase:"end",swipeType:t}),"down"===t?this.closeModal():void 0}}},{key:"closeModal",value:function(){this.modalController.dismiss()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Kb(o.F))},e.\u0275cmp=r.Eb({type:e,selectors:[["ion-viewer-modal"]],viewQuery:function(e,t){var n;(1&e&&r.qc(a,3),2&e)&&(r.hc(n=r.Yb())&&(t.slides=n.first))},inputs:{alt:"alt",scheme:"scheme",slideOptions:"slideOptions",srcFallback:"srcFallback",srcHighRes:"srcHighRes",swipeToClose:"swipeToClose",text:"text",title:"title",titleSize:"titleSize",src:"src"},decls:14,vars:11,consts:[[3,"ngClass"],["slot","primary"],[3,"click"],["slot","icon-only","name","close"],[3,"size"],[3,"forceOverscroll"],[3,"options"],["sliderRef",""],[1,"ion-text-center"]],template:function(e,t){1&e&&(r.Pb(0,"ion-header",0),r.Pb(1,"ion-toolbar"),r.Pb(2,"ion-buttons",1),r.Pb(3,"ion-button",2),r.Xb("click",function(){return t.closeModal()}),r.Lb(4,"ion-icon",3),r.Ob(),r.Ob(),r.Pb(5,"ion-title",4),r.mc(6),r.Ob(),r.Ob(),r.Ob(),r.Pb(7,"ion-content",5),r.Lb(8,"ion-slides",6,7),r.Ob(),r.Pb(10,"ion-footer",0),r.Pb(11,"ion-toolbar",8),r.Pb(12,"ion-text"),r.mc(13),r.Ob(),r.Ob(),r.Ob()),2&e&&(r.fc("ngClass",r.gc(7,c,t.title.length<=0)),r.Ab(5),r.fc("size",t.titleSize),r.Ab(1),r.nc(t.title),r.Ab(1),r.fc("forceOverscroll",!1),r.Ab(1),r.fc("options",t.options),r.Ab(2),r.fc("ngClass",r.gc(9,l,t.text.length<=0)),r.Ab(3),r.nc(t.text))},directives:[o.m,s.i,o.C,o.f,o.e,o.n,o.B,o.h,o.z,o.k,o.A],styles:["ion-slides[_ngcontent-%COMP%]{--height:100%;height:100%}ion-toolbar[_ngcontent-%COMP%]{--border-style:none;--background:rgba(var(--ion-background-color-rgb, (255, 255, 255)), 0.6);background:rgba(var(--ion-background-color-rgb,255,255,255),.6)}ion-header[_ngcontent-%COMP%]{opacity:1;position:absolute}ion-header.no-title[_ngcontent-%COMP%]:after{content:none}ion-header.no-title[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:rgba(0, 0, 0, 0);background:rgba(0,0,0,0)}ion-footer[_ngcontent-%COMP%]{position:absolute;bottom:0}ion-footer.no-text[_ngcontent-%COMP%]:before{content:none}ion-footer.no-text[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:rgba(0, 0, 0, 0);background:rgba(0,0,0,0)}"]}),e}(),p=function(){var e=function(){function e(t,n,r){d(this,e),this.el=t,this.renderer=n,this.modalController=r}return f(e,[{key:"onClick",value:function(){this.viewImage(this.src,this.srcFallback,this.srcHighRes,this.title,this.titleSize,this.text,this.scheme,this.slideOptions,this.swipeToClose)}},{key:"onError",value:function(e){this.src!==this.el.nativeElement.src&&(this.src=this.el.nativeElement.src),this.srcFallback&&this.renderer.setAttribute(this.el.nativeElement,"src",this.srcFallback)}},{key:"ngOnInit",value:function(){this.el.nativeElement.hasAttribute("src")||this.renderer.setAttribute(this.el.nativeElement,"src",this.src)}},{key:"viewImage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"auto",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var d;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.modalController.create({component:h,componentProps:{src:e,srcFallback:t,srcHighRes:n,title:r,titleSize:o,text:s,scheme:a,slideOptions:c,swipeToClose:l},cssClass:this.cssClass instanceof Array?["ion-img-viewer"].concat(u(this.cssClass)):["ion-img-viewer",this.cssClass],keyboardClose:!0,showBackdrop:!0});case 2:return d=i.sent,i.next=5,d.present();case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},i,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Kb(r.m),r.Kb(r.F),r.Kb(o.F))},e.\u0275dir=r.Fb({type:e,selectors:[["","ionImgViewer",""]],hostBindings:function(e,t){1&e&&r.Xb("click",function(){return t.onClick()})("error",function(e){return t.onError(e)})},inputs:{src:"src",cssClass:"cssClass",scheme:"scheme",slideOptions:"slideOptions",srcFallback:"srcFallback",srcHighRes:"srcHighRes",swipeToClose:"swipeToClose",text:"text",title:"title",titleSize:"titleSize"}}),e}(),b=function(){var e=function e(){d(this,e)};return e.\u0275mod=r.Ib({type:e}),e.\u0275inj=r.Hb({factory:function(t){return new(t||e)},imports:[[s.b,o.D]]}),e}()},"9A8T":function(e,t,n){"use strict";n.d(t,"a",function(){return w}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return O});var r=n("fXoL"),i=n("XNiG"),o=n("EY2u"),s=n("HDdC"),a=n("Cfvw"),c=n("/uUt"),u=n("eIep"),l=n("vkgz"),h=n("JIr8");function p(e){var t=new i.a,n=t.pipe(Object(c.a)()).pipe(Object(u.a)(function(t){if(null==t)return e.updateViewContextObserver.next(t),e.render(),o.a;var n,r=(n=t)&&(n instanceof s.a||"function"==typeof n.lift&&"function"==typeof n.subscribe)?t:Object(a.a)(t);return e.resetContextObserver.next(),e.render(),r.pipe(Object(c.a)(),Object(l.a)(e.updateViewContextObserver),Object(l.a)(function(){return e.render()}),Object(h.a)(function(e){return o.a}))}));return{nextPotentialObservable:function(e){t.next(e)},subscribe:function(){return n.subscribe()}}}function b(e){return function(){e.ngZone instanceof r.B?e.cdRef.markForCheck():e.cdRef.detectChanges()}}var v,m,g,y=((g=function(){function e(t,n){var r=this;d(this,e),this.resetContextObserver={next:function(){return r.renderedValue=void 0}},this.updateViewContextObserver={next:function(e){return r.renderedValue=e}},this.cdAware=p({render:b({cdRef:t,ngZone:n}),updateViewContextObserver:this.updateViewContextObserver,resetContextObserver:this.resetContextObserver}),this.subscription=this.cdAware.subscribe()}return f(e,[{key:"transform",value:function(e){return this.cdAware.nextPotentialObservable(e),this.renderedValue}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||g)(r.Vb(),r.Kb(r.B))},g.\u0275pipe=r.Jb({name:"ngrxPush",type:g,pure:!1}),g),w=((m=function(){function e(t,n,r,i){var o=this;d(this,e),this.templateRef=r,this.viewContainerRef=i,this.ViewContext={$implicit:void 0,ngrxLet:void 0,$error:!1,$complete:!1},this.resetContextObserver={next:function(){o.embeddedView&&(o.ViewContext.$implicit=void 0,o.ViewContext.ngrxLet=void 0,o.ViewContext.$error=!1,o.ViewContext.$complete=!1)}},this.updateViewContextObserver={next:function(e){o.embeddedView||o.createEmbeddedView(),o.ViewContext.$implicit=e,o.ViewContext.ngrxLet=e},error:function(e){o.embeddedView||o.createEmbeddedView(),o.ViewContext.$error=!0},complete:function(){o.embeddedView||o.createEmbeddedView(),o.ViewContext.$complete=!0}},this.cdAware=p({render:b({cdRef:t,ngZone:n}),resetContextObserver:this.resetContextObserver,updateViewContextObserver:this.updateViewContextObserver}),this.subscription=this.cdAware.subscribe()}return f(e,[{key:"ngrxLet",set:function(e){this.cdAware.nextPotentialObservable(e)}},{key:"createEmbeddedView",value:function(){this.embeddedView=this.viewContainerRef.createEmbeddedView(this.templateRef,this.ViewContext)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe(),this.viewContainerRef.clear()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||m)(r.Kb(r.i),r.Kb(r.B),r.Kb(r.M),r.Kb(r.Q))},m.\u0275dir=r.Fb({type:m,selectors:[["","ngrxLet",""]],inputs:{ngrxLet:"ngrxLet"}}),m),O=((v=function e(){d(this,e)}).\u0275mod=r.Ib({type:v}),v.\u0275inj=r.Hb({factory:function(e){return new(e||v)}}),v)},PCNd:function(e,t,r){"use strict";r.d(t,"a",function(){return ae});var o=r("ofXK"),s=r("fXoL"),a=r("LRne"),l=r("HDdC"),h=r("bOdf"),p=r("pLZG"),b=r("lJxs"),v=function e(){d(this,e)},m=function e(){d(this,e)},g=function(){function e(t){var n=this;d(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach(function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(t).forEach(function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))})}:this.headers=new Map}return f(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,u(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var o=this.headers.get(t);if(!o)return;0===(o=o.filter(function(e){return-1===i.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})}}]),e}(),y=function(){function e(){d(this,e)}return f(e,[{key:"encodeKey",value:function(e){return w(e)}},{key:"encodeValue",value:function(e){return w(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function w(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var O=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(d(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new y,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){var n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(function(e){var r=e.indexOf("="),i=c(-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],2),o=i[0],s=i[1],a=n.get(o)||[];a.push(s),n.set(o,a)}),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(function(e){var r=n.fromObject[e];t.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}return f(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"appendAll",value:function(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Array.isArray(r)?r.forEach(function(e){t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+"="+e.encoder.encodeValue(t)}).join("&")}).filter(function(e){return""!==e}).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}}),this.cloneFrom=this.updates=null)}}]),e}();function k(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function x(e){return"undefined"!=typeof Blob&&e instanceof Blob}function C(e){return"undefined"!=typeof FormData&&e instanceof FormData}var j=function(){function e(t,n,r,i){var o;if(d(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new g),this.params){var s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{var a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new O,this.urlWithParams=n}return f(e,[{key:"serializeBody",value:function(){return null===this.body?null:k(this.body)||x(this.body)||C(this.body)||"string"==typeof this.body?this.body:this.body instanceof O?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||C(this.body)?null:x(this.body)?this.body.type||null:k(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof O?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,c=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce(function(e,n){return e.set(n,t.setHeaders[n])},c)),t.setParams&&(u=Object.keys(t.setParams).reduce(function(e,n){return e.set(n,t.setParams[n])},u)),new e(n,r,o,{params:u,headers:c,reportProgress:a,responseType:i,withCredentials:s})}}]),e}(),P=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),E=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";d(this,e),this.headers=t.headers||new g,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},T=function(e){n(r,e);var t=i(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(this,r),(e=t.call(this,n)).type=P.ResponseHeader,e}return f(r,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new r({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),r}(E),S=function(e){n(r,e);var t=i(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(this,r),(e=t.call(this,n)).type=P.Response,e.body=void 0!==n.body?n.body:null,e}return f(r,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new r({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),r}(E),A=function(e){n(r,e);var t=i(r);function r(e){var n;return d(this,r),(n=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),n.error=e.error||null,n}return r}(E);function L(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var R,$,I,M,z,_,N,F,U,V,H=((R=function(){function e(t){d(this,e),this.handler=t}return f(e,[{key:"request",value:function(e,t){var n,r,i,o=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e instanceof j?n=e:(r=s.headers instanceof g?s.headers:new g(s.headers),s.params&&(i=s.params instanceof O?s.params:new O({fromObject:s.params})),n=new j(e,t,void 0!==s.body?s.body:null,{headers:r,params:i,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials}));var c=Object(a.a)(n).pipe(Object(h.a)(function(e){return o.handler.handle(e)}));if(e instanceof j||"events"===s.observe)return c;var u=c.pipe(Object(p.a)(function(e){return e instanceof S}));switch(s.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(b.a)(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return u.pipe(Object(b.a)(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return u.pipe(Object(b.a)(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return u.pipe(Object(b.a)(function(e){return e.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(s.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new O).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,L(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,L(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,L(n,t))}}]),e}()).\u0275fac=function(e){return new(e||R)(s.Tb(v))},R.\u0275prov=s.Gb({token:R,factory:R.\u0275fac}),R),X=function(){function e(t,n){d(this,e),this.next=t,this.interceptor=n}return f(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),D=new s.s("HTTP_INTERCEPTORS"),K=(($=function(){function e(){d(this,e)}return f(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||$)},$.\u0275prov=s.Gb({token:$,factory:$.\u0275fac}),$),B=/^\)\]\}',?\n/,q=function e(){d(this,e)},J=((M=function(){function e(){d(this,e)}return f(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}()).\u0275fac=function(e){return new(e||M)},M.\u0275prov=s.Gb({token:M,factory:M.\u0275fac}),M),G=((I=function(){function e(t){d(this,e),this.xhrFactory=t}return f(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new l.a(function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach(function(e,t){return r.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var s=e.serializeBody(),a=null,c=function(){if(null!==a)return a;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new g(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new T({headers:i,status:t,statusText:n,url:o})},u=function(){var t=c(),i=t.headers,o=t.status,s=t.statusText,a=t.url,u=null;204!==o&&(u=void 0===r.response?r.responseText:r.response),0===o&&(o=u?200:0);var l=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof u){var h=u;u=u.replace(B,"");try{u=""!==u?JSON.parse(u):null}catch(d){u=h,l&&(l=!1,u={error:d,text:u})}}l?(n.next(new S({body:u,headers:i,status:o,statusText:s,url:a||void 0})),n.complete()):n.error(new A({error:u,headers:i,status:o,statusText:s,url:a||void 0}))},l=function(e){var t=c().url,i=new A({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(i)},h=!1,d=function(t){h||(n.next(c()),h=!0);var i={type:P.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},p=function(e){var t={type:P.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",u),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),e.reportProgress&&(r.addEventListener("progress",d),null!==s&&r.upload&&r.upload.addEventListener("progress",p)),r.send(s),n.next({type:P.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",u),r.removeEventListener("timeout",l),e.reportProgress&&(r.removeEventListener("progress",d),null!==s&&r.upload&&r.upload.removeEventListener("progress",p)),r.readyState!==r.DONE&&r.abort()}})}}]),e}()).\u0275fac=function(e){return new(e||I)(s.Tb(q))},I.\u0275prov=s.Gb({token:I,factory:I.\u0275fac}),I),Y=new s.s("XSRF_COOKIE_NAME"),Z=new s.s("XSRF_HEADER_NAME"),Q=function e(){d(this,e)},W=((U=function(){function e(t,n,r){d(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return f(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(o.s)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}()).\u0275fac=function(e){return new(e||U)(s.Tb(o.c),s.Tb(s.D),s.Tb(Y))},U.\u0275prov=s.Gb({token:U,factory:U.\u0275fac}),U),ee=((F=function(){function e(t,n){d(this,e),this.tokenService=t,this.headerName=n}return f(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||F)(s.Tb(Q),s.Tb(Z))},F.\u0275prov=s.Gb({token:F,factory:F.\u0275fac}),F),te=((N=function(){function e(t,n){d(this,e),this.backend=t,this.injector=n,this.chain=null}return f(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(D,[]);this.chain=t.reduceRight(function(e,t){return new X(e,t)},this.backend)}return this.chain.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||N)(s.Tb(m),s.Tb(s.t))},N.\u0275prov=s.Gb({token:N,factory:N.\u0275fac}),N),ne=((_=function(){function e(){d(this,e)}return f(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:ee,useClass:K}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:Y,useValue:t.cookieName}:[],t.headerName?{provide:Z,useValue:t.headerName}:[]]}}}]),e}()).\u0275mod=s.Ib({type:_}),_.\u0275inj=s.Hb({factory:function(e){return new(e||_)},providers:[ee,{provide:D,useExisting:ee,multi:!0},{provide:Q,useClass:W},{provide:Y,useValue:"XSRF-TOKEN"},{provide:Z,useValue:"X-XSRF-TOKEN"}]}),_),re=((z=function e(){d(this,e)}).\u0275mod=s.Ib({type:z}),z.\u0275inj=s.Hb({factory:function(e){return new(e||z)},providers:[H,{provide:v,useClass:te},G,{provide:m,useExisting:G},J,{provide:q,useExisting:J}],imports:[[ne.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),z),ie=r("3Pt+"),oe=r("TEn/"),se=r("9A8T"),ae=((V=function e(){d(this,e)}).\u0275mod=s.Ib({type:V}),V.\u0275inj=s.Hb({factory:function(e){return new(e||V)},imports:[[o.b,ie.a,ie.d,oe.D,re,se.c],o.b,ie.a,ie.d,oe.D,se.c]}),V)},fOOd:function(e,t,r){"use strict";r.r(t),r.d(t,"HomePageModule",function(){return ee});var o=r("6g0+"),s=r("PCNd"),a=r("tyNb"),u=r("mrSG"),l=r("TEn/"),h=r("2Vo4"),p=r("XNiG"),b=r("itXk"),v=r("/uUt"),m=r("eIep"),g=r("KJy6"),y=r("VfN6"),w=r("NXyV"),O=r("JIr8"),k=r("UXun"),x=r("lJxs"),C=r("7o/Q"),j=function(){function e(){d(this,e)}return f(e,[{key:"call",value:function(e,t){return t.subscribe(new P(e))}}]),e}(),P=function(e){n(r,e);var t=i(r);function r(e){var n;return d(this,r),(n=t.call(this,e)).hasPrev=!1,n}return f(r,[{key:"_next",value:function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}]),r}(C.a),E=r("vkgz"),T=r("fXoL"),S=r("kTgZ"),A=r("9A8T"),L=r("/T4s"),R=["video"];function $(e,t){if(1&e&&(T.Pb(0,"div",7),T.Lb(1,"app-image",8),T.Ob()),2&e){var n=t.ngrxLet;T.Ab(1),T.fc("src",n)}}var I,M=((I=function(){function e(t,n,r){var i=this;d(this,e),this.modalController=t,this.alertController=n,this.junctureRepository=r,this._videoElement$=new h.a(void 0),this.videoElement$=this._videoElement$.pipe(Object(g.b)(),Object(v.a)()),this.mediaStream$=Object(w.a)(function(){return navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}})}).pipe(Object(O.a)(function(e){return Object(u.a)(i,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.presentErrorDialog(e);case 2:return t.next=4,this.dismiss();case 4:case"end":return t.stop()}},t,this)}))}),Object(k.a)({bufferSize:1,refCount:!0})),this.imageCapture$=this.mediaStream$.pipe(Object(g.b)(),Object(x.a)(function(e){return new ImageCapture(e.getVideoTracks()[0])}),Object(k.a)({bufferSize:1,refCount:!0})),this._capturedImageUrl$=new h.a(void 0),this.revokePreviousImageUrl$=this._capturedImageUrl$.pipe(function(e){return e.lift(new j)},Object(E.a)(function(e){var t=c(e,1)[0];t&&URL.revokeObjectURL(t)})),this.capturedImageUrl$=this._capturedImageUrl$.pipe(Object(g.b)(),Object(v.a)()),this.cameraPreview$=Object(b.a)([this.videoElement$,this.mediaStream$.pipe(Object(g.b)())]).pipe(Object(E.a)(function(e){var t=c(e,2),n=t[0],r=t[1];n.srcObject=r})),this.revokePreviousImageUrl$.pipe(Object(y.b)(this)).subscribe(),this.cameraPreview$.pipe(Object(y.b)(this)).subscribe()}return f(e,[{key:"videoElement",set:function(e){this._videoElement$.next(e.nativeElement)}},{key:"capture",value:function(){var e=this;this.imageCapture$.pipe(Object(m.a)(function(e){return e.takePhoto()}),Object(E.a)(function(t){e._capturedImageUrl$.next(URL.createObjectURL(t))}),Object(g.a)(function(t){return e.junctureRepository.add$({data:t})}),Object(O.a)(function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.presentErrorDialog(t);case 2:case"end":return e.stop()}},e,this)}))}),Object(y.b)(this)).subscribe()}},{key:"dismiss",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.modalController.dismiss());case 1:case"end":return e.stop()}},e,this)}))}},{key:"presentErrorDialog",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({header:e instanceof Error?e.name:"Unknown Error",message:e instanceof Error?e.message:JSON.stringify(e),buttons:[{text:"ok"}]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}},t,this)}))}},{key:"ngOnDestroy",value:function(){this.mediaStream$.pipe(Object(g.b)(),Object(E.a)(function(e){return e.getTracks().forEach(function(e){return e.stop()})})).subscribe()}}]),e}()).\u0275fac=function(e){return new(e||I)(T.Kb(l.F),T.Kb(l.a),T.Kb(S.a))},I.\u0275cmp=T.Eb({type:I,selectors:[["app-camera"]],viewQuery:function(e,t){var n;1&e&&T.qc(R,1),2&e&&T.hc(n=T.Yb())&&(t.videoElement=n.first)},decls:7,vars:1,consts:[["fill","clear",1,"dismiss",3,"click"],["slot","icon-only","name","close-outline","color","light"],["fill","clear",1,"capture",3,"click"],["slot","icon-only","name","radio-button-on-outline","color","light"],["class","captured ion-margin",4,"ngrxLet"],["playsinline","","autoplay",""],["video",""],[1,"captured","ion-margin"],["ionImgViewer","",3,"src"]],template:function(e,t){1&e&&(T.Pb(0,"ion-button",0),T.Xb("click",function(){return t.dismiss()}),T.Lb(1,"ion-icon",1),T.Ob(),T.Pb(2,"ion-button",2),T.Xb("click",function(){return t.capture()}),T.Lb(3,"ion-icon",3),T.Ob(),T.lc(4,$,2,1,"div",4),T.Lb(5,"video",5,6)),2&e&&(T.Ab(4),T.fc("ngrxLet",t.capturedImageUrl$))},directives:[l.e,l.n,A.a,L.a,o.a],styles:["[_nghost-%COMP%]{display:contents;position:relative}video[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}ion-button.dismiss[_ngcontent-%COMP%]{right:0;width:48px;height:48px}ion-button.capture[_ngcontent-%COMP%], ion-button.dismiss[_ngcontent-%COMP%]{position:absolute;z-index:1;--border-radius:50%;--padding-end:0;--padding-start:0}ion-button.capture[_ngcontent-%COMP%]{bottom:0;left:50%;transform:translate(-50%);height:72px;width:72px;margin:0 0 var(--ion-margin,16px);--background:rgba(0,0,0,0.4)}ion-button.capture[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:64px}.captured[_ngcontent-%COMP%]{position:absolute;bottom:16px;right:16px;overflow:hidden;border-radius:4px;border:1px solid var(--ion-color-light-shade)}.captured[_ngcontent-%COMP%]   app-image[_ngcontent-%COMP%]{z-index:1;width:60px;height:60px}"]}),I=Object(u.b)([Object(y.a)()],I)),z=r("kiQV"),_=r("kgew"),N=r("ofXK");function F(e,t){if(1&e&&(T.Pb(0,"ion-select-option",7),T.mc(1),T.Ob()),2&e){var n=t.$implicit;T.fc("value",n),T.Ab(1),T.oc(" ",n," ")}}function U(e,t){if(1&e){var n=T.Qb();T.Pb(0,"ion-select",5),T.Xb("ionChange",function(e){return T.ic(n),T.Zb().onChangeDarkTheme(e)}),T.lc(1,F,2,2,"ion-select-option",6),T.Ob()}if(2&e){var r=t.ngrxLet,i=T.Zb();T.fc("value",r),T.Ab(1),T.fc("ngForOf",i.themes)}}var V,H=((V=function(){function e(t){d(this,e),this.settingsService=t,this.themes=_.a.THEMES,this.theme$=this.settingsService.theme$,this.version=z.a}return f(e,[{key:"onChangeDarkTheme",value:function(e){return this.settingsService.setTheme$(e.detail.value).pipe(Object(y.b)(this)).subscribe()}}]),e}()).\u0275fac=function(e){return new(e||V)(T.Kb(_.a))},V.\u0275cmp=T.Eb({type:V,selectors:[["app-settings"]],decls:12,vars:2,consts:[["lines","none"],["name","moon-outline","slot","start"],[3,"value","ionChange",4,"ngrxLet"],["name","information-outline","slot","start"],["slot","end"],[3,"value","ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(T.Pb(0,"ion-list",0),T.Pb(1,"ion-item"),T.Lb(2,"ion-icon",1),T.Pb(3,"ion-label"),T.mc(4,"Theme"),T.Ob(),T.lc(5,U,2,2,"ion-select",2),T.Ob(),T.Pb(6,"ion-item"),T.Lb(7,"ion-icon",3),T.Pb(8,"ion-label"),T.mc(9,"Version"),T.Ob(),T.Pb(10,"ion-note",4),T.mc(11),T.Ob(),T.Ob(),T.Ob()),2&e&&(T.Ab(5),T.fc("ngrxLet",t.theme$),T.Ab(6),T.nc(t.version))},directives:[l.r,l.p,l.n,l.q,A.a,l.s,l.w,l.J,N.j,l.x],styles:["ion-select[_ngcontent-%COMP%]{max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content}"]}),V=Object(u.b)([Object(y.a)()],V)),X=function(e){return{id:e}};function D(e,t){if(1&e&&(T.Pb(0,"app-image",2),T.Lb(1,"ion-ripple-effect"),T.Ob()),2&e){var n=t.ngrxLet,r=T.Zb().ngrxLet;T.fc("queryParams",T.gc(2,X,r.id))("src",n)}}function K(e,t){if(1&e&&(T.Nb(0),T.lc(1,D,2,4,"app-image",1),T.Mb()),2&e){var n=t.ngrxLet;T.Ab(1),T.fc("ngrxLet",n.photoUrl$)}}var B,q=((B=function(){function e(){d(this,e),this._juncture$=new h.a(void 0),this.juncture$=this._juncture$.pipe(Object(g.b)(),Object(v.a)(function(e,t){return e.id===t.id}))}return f(e,[{key:"juncture",set:function(e){this._juncture$.next(e)}}]),e}()).\u0275fac=function(e){return new(e||B)},B.\u0275cmp=T.Eb({type:B,selectors:[["app-juncture-thumbnail"]],inputs:{juncture:"juncture"},decls:1,vars:1,consts:[[4,"ngrxLet"],["routerLink","photo","class","ion-activatable",3,"queryParams","src",4,"ngrxLet"],["routerLink","photo",1,"ion-activatable",3,"queryParams","src"]],template:function(e,t){1&e&&T.lc(0,K,2,1,"ng-container",0),2&e&&T.fc("ngrxLet",t.juncture$)},directives:[A.a,L.a,l.I,a.h,l.t],styles:["[_nghost-%COMP%]{display:block;overflow:hidden}app-image[_ngcontent-%COMP%]{position:relative;height:100%;width:100%}"]}),B);function J(e,t){if(1&e&&(T.Pb(0,"ion-col",8,9),T.Lb(2,"app-juncture-thumbnail",10),T.Ob()),2&e){var n=t.$implicit;T.Ab(2),T.fc("juncture",n)}}var G,Y,Z,Q=[{path:"",component:(G=function(){function e(t,n,r){var i=this;d(this,e),this.popoverController=t,this.modalController=n,this.junctureRepository=r,this.junctures$=this.junctureRepository.all$,this._ionContent$=new h.a(void 0),this.ionContent$=this._ionContent$.pipe(Object(g.b)(),Object(v.a)()),this._scrollEvent$=new p.a,this.scrollEvent$=this._scrollEvent$.pipe(Object(v.a)()),this.noFooterBorder$=Object(b.a)([this.ionContent$,this.scrollEvent$]).pipe(Object(m.a)(function(e){var t=c(e,1)[0];return i.detectBottom(t)}))}return f(e,[{key:"ionContent",set:function(e){this._ionContent$.next(e)}},{key:"onScroll",value:function(e){this._scrollEvent$.next(e)}},{key:"detectBottom",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getScrollElement();case 2:return n=t.sent,t.abrupt("return",n.scrollTop===n.scrollHeight-n.clientHeight);case 4:case"end":return t.stop()}},t)}))}},{key:"presentSettings",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.popoverController.create({component:H,event:e});case 2:return n=t.sent,t.next=5,n.present();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}))}},{key:"presentCamera",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:M});case 2:return t=e.sent,e.next=5,t.present();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}))}},{key:"trackJuncture",value:function(e,t){return t.id}}]),e}(),G.\u0275fac=function(e){return new(e||G)(T.Kb(l.H),T.Kb(l.F),T.Kb(S.a))},G.\u0275cmp=T.Eb({type:G,selectors:[["app-home"]],viewQuery:function(e,t){var n;1&e&&T.qc(l.h,1),2&e&&T.hc(n=T.Yb())&&(t.ionContent=n.first)},decls:14,vars:8,consts:[["scrollEvents","",3,"ionScroll"],["size","6","size-sm","4","size-md","3","size-lg","2",4,"ngFor","ngForOf","ngForTrackBy"],["vertical","bottom","horizontal","center","slot","fixed","edge",""],[3,"click"],["name","camera-outline"],["slot","primary"],["slot","secondary",3,"click"],["slot","icon-only","name","settings-outline"],["size","6","size-sm","4","size-md","3","size-lg","2"],["col",""],[3,"juncture"]],template:function(e,t){1&e&&(T.Pb(0,"ion-content",0),T.Xb("ionScroll",function(e){return t.onScroll(e)}),T.Pb(1,"ion-grid"),T.Pb(2,"ion-row"),T.lc(3,J,3,1,"ion-col",1),T.ac(4,"ngrxPush"),T.Ob(),T.Ob(),T.Pb(5,"ion-fab",2),T.Pb(6,"ion-fab-button",3),T.Xb("click",function(){return t.presentCamera()}),T.Lb(7,"ion-icon",4),T.Ob(),T.Ob(),T.Ob(),T.Pb(8,"ion-footer"),T.ac(9,"ngrxPush"),T.Pb(10,"ion-toolbar"),T.Pb(11,"ion-buttons",5),T.Pb(12,"ion-button",6),T.Xb("click",function(e){return t.presentSettings(e)}),T.Lb(13,"ion-icon",7),T.Ob(),T.Ob(),T.Ob(),T.Ob()),2&e&&(T.Ab(3),T.fc("ngForOf",T.bc(4,4,t.junctures$))("ngForTrackBy",t.trackJuncture),T.Ab(5),T.Cb("ion-no-border",T.bc(9,6,t.noFooterBorder$)))},directives:[l.h,l.l,l.v,N.j,l.i,l.j,l.n,l.k,l.C,l.f,l.e,l.g,q],pipes:[A.b],styles:["app-juncture-thumbnail[_ngcontent-%COMP%]{height:150px;border-radius:4px;box-shadow:0 2px 8px 0 rgba(99,99,99,.2)}"]}),G)},{path:"photo",loadChildren:function(){return r.e(61).then(r.bind(null,"MTLF")).then(function(e){return e.PhotoPageModule})}}],W=((Z=function e(){d(this,e)}).\u0275mod=T.Ib({type:Z}),Z.\u0275inj=T.Hb({factory:function(e){return new(e||Z)},imports:[[a.i.forChild(Q)],a.i]}),Z),ee=((Y=function e(){d(this,e)}).\u0275mod=T.Ib({type:Y}),Y.\u0275inj=T.Hb({factory:function(e){return new(e||Y)},imports:[[s.a,W,o.b]]}),Y)},kTgZ:function(t,r,o){"use strict";o.d(r,"a",function(){return A});var s,a,l=o("NXyV"),h=o("itXk"),p=o("bOdf"),b=o("wO+i"),v=o("UXun"),m=o("lJxs"),g=o("SxV6"),y=o("mrSG"),w=function(e){n(r,e);var t=i(r);function r(){var e;return d(this,r),(e=t.apply(this,arguments)).name=r.name,e}return r}(e(Error)),O={version:0,type:"object",properties:{id:{type:"string",primary:!0},timestamp:{type:"number"},geolocationPosition:{type:"object",properties:{latitude:{type:"number"},longitude:{type:"number"}}}},indexes:["timestamp"],required:["timestamp"],attachments:{encrypted:!1}},k=function(){function e(t){var n=this;d(this,e),this.document=t,this.id=this.document.id,this.mimeType=this.attachment.type,this.timestamp=this.document.timestamp,this.geolocationPosition=this.document.geolocationPosition,this.photoUrl$=Object(l.a)(function(){return n.attachment.getData()}).pipe(Object(m.a)(function(e){return URL.createObjectURL(e)}),Object(v.a)({bufferSize:1,refCount:!0}))}return f(e,[{key:"attachment",get:function(){var e=this.document.getAttachment(this.id);if(e)return e;throw new w("Cannot get attachment with ID: ".concat(this.id))}}]),e}(),x=o("fXoL"),C=o("aNgo"),j=o("LRne"),P=o("HDdC"),E=o("eIep"),T=o("JIr8"),S=((a=function e(){d(this,e),this.geolocation$=Object(l.a)(function(){return Object(j.a)(navigator.geolocation)}),this.currentPosition$=this.geolocation$.pipe(Object(E.a)(function(e){return new P.a(function(t){e.getCurrentPosition(function(e){t.next(e),t.complete()},function(e){return t.error(e)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})})})),this.currentPositionOrUndefined$=this.currentPosition$.pipe(Object(T.a)(function(e){return console.error(e),Object(j.a)(void 0)}))}).\u0275fac=function(e){return new(e||a)},a.\u0275prov=x.Gb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),A=((s=function(){function e(t,n){d(this,e),this.database=t,this.geolocationService=n,this.collection$=this.database.main$.pipe(Object(p.a)(function(e){return e.addCollections((r={schema:O},(n=L)in(t={})?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t));var t,n,r}),Object(b.a)(L),Object(v.a)({bufferSize:1,refCount:!0})),this.all$=this.collection$.pipe(Object(p.a)(function(e){return e.find().sort({timestamp:"desc"}).$}),Object(m.a)(function(e){return e.map(function(e){return new k(e)})}))}return f(e,[{key:"add$",value:function(e){var t=this;return Object(l.a)(function(){return function(e){return Object(y.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=crypto.subtle,t.next=3,e.arrayBuffer();case 3:return t.t1=t.sent,t.next=6,t.t0.digest.call(t.t0,"SHA-256",t.t1);case 6:return n=t.sent,t.abrupt("return",u(new Uint8Array(n)).map(function(e){return e.toString(16).padStart(2,"0")}).join(""));case 8:case"end":return t.stop()}},t)}))}(e.data)}).pipe(Object(p.a)(function(n){return t._add$({id:n,data:e.data})}),Object(m.a)(function(e){return new k(e.doc)}))}},{key:"_add$",value:function(e){var t=e.id,n=e.data;return Object(h.a)([this.collection$,this.geolocationService.currentPositionOrUndefined$]).pipe(Object(g.a)(),Object(p.a)(function(e){var n=c(e,2),r=n[0],i=n[1];return r.insert({id:t,timestamp:Date.now(),geolocationPosition:{latitude:null==i?void 0:i.coords.latitude,longitude:null==i?void 0:i.coords.longitude}})}),Object(p.a)(function(e){return e.putAttachment({id:t,data:n,type:n.type},!0)}))}},{key:"remove$",value:function(e){return this.collection$.pipe(Object(p.a)(function(t){return t.bulkRemove([e])}))}}]),e}()).\u0275fac=function(e){return new(e||s)(x.Tb(C.a),x.Tb(S))},s.\u0275prov=x.Gb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),L="junctures"},kiQV:function(e){e.exports=JSON.parse('{"a":"0.0.1"}')}}])}();